<section data-ng-controller="MessagesController" data-ng-init="find()" data-ng-show="authentication.user">
    <div class="page-header">
        <div class="h1">
            <i class="fa fa-file-text fa-1x"></i>
             Notes
        </div>
    </div>
    <div class="list-group">
        <a data-ng-repeat="message in messages" data-ng-href="#!/messages/{{message._id}}" class="list-group-item">
			<div class="list-group-item-text">
	            <div class="h4 list-group-item-heading" data-ng-bind="message.text"></div>
                <div class="list-group-item-text">
                    <div data-ng-show="message.verse">
                        <a data-ng-click="showVerse[$index]=!showVerse[$index]"><strong>{{message.verse.inputstring + ':' + message.verse.ref}} <span class="caret"></span></strong></a>
                        <div data-ng-show="showVerse[$index]" class="border"><em>{{message.verse.text}}</em></div>
                    </div>{{message.verse.text}}
                    <br>
                    Posted on
    				<span data-ng-bind="message.created | date:'medium'"></span>
    				by
    				<span data-ng-bind="authentication.user.displayName"></span>
                </div>
            </div>
        </a>
    </div>
    <ul class="list-group">
        <li class="h3 list-group-item list-group-item-warning"><i class="fa fa-comment fa-fw"></i> Notes</li>
        <li class="list-group-item" data-ng-repeat="message in messages">
            <a data-ng-click="showVerse[$index]=!showVerse[$index]"><strong>{{message.verse.inputstring + ':' + message.verse.ref}} <span class="caret"></span></strong></a>
            <div data-ng-show="showVerse[$index]" class="border"><em>{{message.verse.text}}</em></div>
            <div data-ng-show="message.text">
                "{{message.text}}"
            </div>
            <div class="text-right">
                <small>Posted on <em>{{message.created | date : "MMM. d"}}</em></small>
            </div>
        </li>
    </ul>
    <div class="alert alert-warning text-center" data-ng-hide="!messages.$resolved || messages.length">
    	No Messages yet, why don't you <a href="/#!/messages/create">create one</a>?
    </div>
</section>