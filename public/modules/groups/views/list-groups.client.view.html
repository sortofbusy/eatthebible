<section data-ng-controller="GroupsController" data-ng-init="find()" data-ng-show="authentication.user">
    <div class="page-header">
        <div class="h1">
            <i class="fa fa-group fa-1x"></i>
             Groups
        </div>
    </div>
    <div class="list-group">
        <a data-ng-repeat="group in groups" data-ng-href="#!/groups/{{group._id}}" class="list-group-item">
			<div class="col-xs-12">
                    <span class="h1 list-group-item-heading" data-ng-bind="group.name"></span>
                    <span class="label label-primary" data-ng-show="group.creator === authentication.user._id">CREATOR</span>
            </div>
            <br>
            <div class="row list-group-item-text">
                <div class="col-xs-6"> 
                    <em>MEMBERS</em> <span class="h2">{{group.users.length}}</span>
                </div>
                <div class="col-xs-6"> 
                     <em>STARTED</em> <span class="">{{group.created | timeago}}</span>
                </div>
            </div>
        </a>
    </div>
    <div >
        <a class="pull-right" data-ng-click="addCollapsed = !addCollapsed"><i class="fa fa-3x fa-fw fa-plus"></i></a>
        <div class="well" data-collapse="addCollapsed">
    
            <div class=""> 
                <a class="btn btn-info btn-lg" href="/#!/groups/create">
                    New Group
                </a>
                <br>
            </div>
            <h2>-or-</h2><br>
            <div >
                <form class="form-inline" data-ng-submit="enroll()" novalidate>
                    <fieldset>
                        <div class="form-group">
                            <div class="controls">
                                <input type="text" data-ng-model="token" id="token" class="form-control" placeholder="Token" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <input type="submit" value="Join Group" class="btn btn-lg btn-default">
                        </div>
                        <div data-ng-show="error" class="text-danger">
                            <strong data-ng-bind="error"></strong>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</section>